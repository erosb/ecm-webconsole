<!--

    This file is part of Everit - Felix Webconsole ECM Configuration.

    Everit - Felix Webconsole ECM Configuration is free software: you can redistribute it and/or modify
    it under the terms of the GNU Lesser General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Everit - Felix Webconsole ECM Configuration is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public License
    along with Everit - Felix Webconsole ECM Configuration.  If not, see <http://www.gnu.org/licenses/>.

-->
<script type="text/javascript">
	window.ecmconfig = {
		"rootPath" : "${rootPath}" 
	};
</script>
<script type="text/javascript" src="${rootPath}/underscore-min.js"></script>
<script type="text/javascript" src="${rootPath}/backbone.js"></script>
<!-- <script type="text/javascript" src="${rootPath}/backbone.queryparams.min.js"></script>
<script type="text/javascript" src="${rootPath}/backbone.queryparams-1.1-shim.js"></script> -->
<script type="text/javascript" src="${rootPath}/app/models.js"></script>
<script type="text/javascript" src="${rootPath}/app/views.js"></script>
<script type="text/javascript" src="${rootPath}/config.js"></script>

<style>
#cnt-header {
	padding: 7px 5px 7px 5px;
}
</style>

<script type="text/template" id="tmpl-config-admin-list">
	<select name="sel-configadmin" class="ui-widget ui-widget-content ui-state-default">
	<% configAdmins.forEach(function(configAdmin) { %>
		<option value="<%= configAdmin.get("pid") %>"><%= configAdmin.get("description") %></option>
	<% }); %>
	</select>
</script>

<script type="text/template" id="tmpl-managed-service-list">
		<thead>
			<tr>
				<th class="ui-widget-header header">Name</th>
				<th class="ui-widget-header header">Bundle</th>
				<th class="ui-widget-header header">Actions</th>
			</tr>
		</thead>
		<tbody>
		<% managedServices.forEach(function(service) {%>
			<tr class="ui-state-default">
				<td><%= service.get("name") %></td>
				<td><%= service.get("bundleName") %></td>
				<td>
					<ul class="icons">
						<li class="dynhover ui-state-default ui-corner-all">
							<span class="ui-icon ui-icon-trash" label="Delete"></span>
						</li>
						<li class="dynhover ui-state-default ui-corner-all">
							<span class="ui-icon ui-icon-pencil" label="Edit"></span>
						</li>
					</ul>
				</td>
			</tr>
		<%});%>
		</tbody>
	</table>
</script>

<div id="cnt-main" style="width: 100%">
	<div id="cnt-header" class="ui-widget-header ui-corner-top"></div>
	<table id="tbl-managedservices" class="tablesorter nicetable noauto ui-widget" style="width: 100%"></table>
</div>